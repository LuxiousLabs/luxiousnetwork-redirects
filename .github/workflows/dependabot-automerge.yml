# ---------------------------------------------------- #
#                  LuxiousHealthCheck                  #
# This file is auto-generated by Luxious Health Check  #
# DO NOT EDIT IT MANUALLY. YOUR EDITS WILL NOT PERSIST #
# Arbitrary Header Version: v1.0.0                     #
# ---------------------------------------------------- #
name: Dependabot auto-merge for github-actions
'on':
  pull_request_target:
    types:
    - opened
    - synchronize
    - labeled
permissions:
  contents: write
  pull-requests: write
  checks: read
jobs:
  wait-for-checks:
    runs-on: ubuntu-latest
    if: github.event.pull_request.user.login == 'dependabot[bot]' && contains(github.event.pull_request.labels.*.name,
      'actions-dependencies')
    steps:
    - name: Fetch Dependabot metadata
      id: metadata
      uses: dependabot/fetch-metadata@v2
      with:
        github-token: ${{ secrets.GITHUB_TOKEN }}
    - name: Wait for all status checks to pass
      uses: poseidon/wait-for-status-checks@v0.6.0
      with:
        token: ${{ secrets.GITHUB_TOKEN }}
        timeout: 180
        interval: 10
        ignore: merge,auto-merge
  auto-merge:
    needs:
    - wait-for-checks
    runs-on: ubuntu-latest
    steps:
    - name: Merge PR
      run: gh pr merge --squash "${{ github.event.pull_request.html_url }}"
      env:
        GH_TOKEN: ${{ secrets.DEPENDABOT_MERGE_PAT }}
